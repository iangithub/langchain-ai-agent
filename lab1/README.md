# Job1: Single-Agent 行銷文案生成器

## 概述

這是一個 **Single-Agent** 範例，展示最基本的 AI Agent 架構：`prompt -> LLM -> output`。

Agent 負責根據使用者提供的產品資訊，自動生成專業的行銷文案。

## 適用場景

- 任務相對單純
- 不需要專業分工
- 對話流程線性

## 功能特色

- 根據產品資訊自動生成行銷文案
- 包含標題、副標題、正文和行動呼籲
- 支援自定義產品名稱、特點、目標受眾和行銷目標

## 架構說明

```
┌─────────────────────────────────────────────────────────┐
│                    Single-Agent 架構                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│   [使用者輸入]                                           │
│        │                                                │
│        ▼                                                │
│   ┌─────────┐    ┌─────────┐    ┌─────────┐            │
│   │ Prompt  │ -> │   LLM   │ -> │ Output  │            │
│   │ Template│    │         │    │ Parser  │            │
│   └─────────┘    └─────────┘    └─────────┘            │
│                                      │                  │
│                                      ▼                  │
│                               [行銷文案輸出]             │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 使用技術

- **LangChain 1.x**: 用於建構 Agent Chain
- **LangChain Expression Language (LCEL)**: 使用 `|` 運算子串接組件
- **ChatOpenAI**: 連接 OpenAI API

## 安裝與設定

### 1. 安裝依賴

```bash
pip install -r requirements.txt
```

### 2. 設定環境變數

複製 `.env.example` 為 `.env`，並填入你的 API 金鑰：

```bash
cp .env.example .env
```

編輯 `.env` 檔案：

```
OPENAI_API_KEY=your-api-key-here
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0.7
```

### 3. 執行程式

```bash
python lab1/lab1_single_agent.py
```

## 環境變數說明

| 變數名稱             | 說明               | 預設值   |
| -------------------- | ------------------ | -------- |
| `OPENAI_API_KEY`     | OpenAI API 金鑰    | （必填） |
| `OPENAI_MODEL`       | 使用的模型名稱     | `gpt-4o` |
| `OPENAI_TEMPERATURE` | 生成的隨機性 (0-1) | `0.7`    |

## 程式碼結構

```
lab1/
├── lab1_single_agent.py  # 主程式
└── README.md             # 說明文件
```

### 主要函數

- `load_environment()`: 載入環境變數
- `create_llm()`: 建立 LLM 實例
- `create_marketing_prompt()`: 建立 Prompt 模板
- `create_marketing_agent()`: 建立 Agent Chain
- `generate_marketing_copy()`: 執行文案生成
- `main()`: 程式入口

## 輸出範例

```
============================================================
Job1: Single-Agent 行銷文案生成器
============================================================

✓ 環境變數載入成功

------------------------------------------------------------
使用範例產品資訊生成文案...
------------------------------------------------------------
產品名稱：智能空氣清淨機 AirPure Pro
產品特點：HEPA 13級濾網、智能空氣品質偵測...
目標受眾：注重生活品質的都市家庭...
行銷目標：提升品牌知名度，促進線上購買轉換
------------------------------------------------------------

正在生成行銷文案，請稍候...

============================================================
生成的行銷文案
============================================================

【標題】
讓每一口呼吸，都是對家人的守護

【副標題】
AirPure Pro 智能空氣清淨機 — 醫療級濾淨，給家人最純淨的空氣

【正文】
...

【行動呼籲】
立即前往官網，享受限時早鳥優惠！

============================================================
```

## 學習重點

1. **LangChain 基礎架構**: 了解 Prompt、LLM、OutputParser 的組合
2. **LCEL 語法**: 使用 `|` 運算子串接 Chain
3. **環境變數管理**: 安全地管理 API 金鑰
4. **Prompt Engineering**: 設計有效的提示詞模板
